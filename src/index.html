<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Stencil Component Starter</title>

    <script type="module" src="/build/ir-webcmp.esm.js"></script>
    <script nomodule src="/build/ir-webcmp.js"></script>
    <style></style>
  </head>

  <body>
    <ir-booking-details></ir-booking-details>
   
    <script>
      const ticket = `eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2OTQxODE4MDgsIkNMQUlNLTAxIjoicktLMi9DY1dQQnM9IiwiQ0xBSU0tMDIiOiI5UStMQm93VTl6az0iLCJDTEFJTS0wMyI6Ilp3Tys5azJoTzUwPSIsIkNMQUlNLTA0IjoiWnNHbms0dWJVUXJxZXprS2JsUFp5SEh3N1VIdmk4M2xleTJqUWRPTGZJOVpKd3V5ZmRGSEVBPT0ifQ.lELHoDRwTAhpBkvX4DU5XifYWXrKXiZLVzy-PpqVU2U`
      const irBookingDetails = document.querySelector('ir-booking-details');

      var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "BH_ID": 13509433,
  "LANGUAGE_ABBREVIATION": "EN",
  "EXCLUDE_AC": true,
  "EXCLUDE_BH_POLICIES": false
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch(`https://gateway.igloorooms.com/IR/Get_Bh_Full?Ticket=${ticket}`, requestOptions)
  .then(response => response.json())
  .then(result => {
    irBookingDetails.bookingDetails = result.My_Result
  } )
  .catch(error => console.log('error', error));


//   fetch(`https://gateway.igloorooms.com/IR/Get_Setup_Entries_By_TBL_NAME`, {
//   method: 'POST',
//   headers: myHeaders,
//   body: JSON.stringify({
//     "TBL_NAME": "_BOOK_STATUS"
//   })
// })
//   .then(response => response.json())
//   .then(result => {
//     irBookingDetails.bookingStatuses = result.My_Result
//   })

//   fetch(`https://gateway.igloorooms.com/IR/Get_Setup_Entries_By_TBL_NAME`, {
//   method: 'POST',
//   headers: myHeaders,
//   body: JSON.stringify({
//     "TBL_NAME": "_BOOK_STATUS"
//   })
// })
//   .then(response => response.json())
//   .then(result => {
//     irBookingDetails.bookingStatuses = result.My_Result
//   })

    </script>
  </body>
</html>
